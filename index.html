<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mobile Device Inspector</title>
  <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@700;500&family=JetBrains+Mono:wght@500&display=swap" rel="stylesheet">
  <style>
    :root {
      --c-bg: #19162b;
      --c-1: #1be8ff;
      --c-2: #b691ff;
      --c-gold: #ffe26b;
      --c-glass: rgba(34,28,58,0.89);
      --c-glass2: rgba(130,110,240,0.18);
      --c-shadow: #1be7ff36;
    }
    html, body {
      height: 100%;
      background: var(--c-bg);
      margin: 0; padding: 0;
      -webkit-tap-highlight-color: transparent;
      overflow-x: hidden;
    }
    body {
      min-height: 100vh;
      font-family: 'Inter', 'JetBrains Mono', 'Segoe UI', Arial, sans-serif;
      color: #f6faff;
      display: flex; flex-direction: column; align-items: center;
      background: var(--c-bg);
      scroll-behavior: smooth;
    }

    .orb { pointer-events:none; position:fixed; border-radius:50%;
      filter:blur(52px) brightness(1.16); z-index:0; animation: orbfloat 21s infinite alternate cubic-bezier(.68,.13,.39,1.40);
      opacity: 0.15;
    }
    .orb1 { width:260px; height:120px; top:-60px; left:0; background:radial-gradient(circle at 70% 63%,#21f1ffad 48%,#ffe69947 120%);}
    .orb2 { width:170px; height:93px; top:64vh; left:60vw; background:radial-gradient(circle,#8d6cff96 57%, #f7ecc455 100%);}
    .orb3 { width:90px; height:104px; top:83vh; left:-30px; background:radial-gradient(circle,#ecd99433 67%,#27e2fae2 120%);}
    @keyframes orbfloat {0%{transform:scale(1.03)translateY(0);}100%{transform:scale(.97)translateY(15px);}}

    .header {width: 100%;padding: 2em 0 1em 0;text-align: center;position: relative;z-index: 2;}
    .header-icon {margin-bottom:-.22em;width:38px;height:38px;vertical-align: middle;display:inline-block;stroke-width:1.16;filter:drop-shadow(0 3px 18px #18f6f79d);animation: iconfloat 4s infinite alternate;}
    @keyframes iconfloat {0% {transform:translateY(-6px);}100%{transform:translateY(5px);}}
    .header-title {background: linear-gradient(90deg, var(--c-1), var(--c-2) 80%, var(--c-gold));
      -webkit-background-clip: text; background-clip: text; color: transparent;
      font-size: 1.6em; font-weight:800; font-family: 'Inter',sans-serif;
      letter-spacing:0.012em;margin: 0.13em 0 0 0; user-select: none;line-height: 1.06em;
    }
    .header-desc {color: var(--c-gold);font-size: .99em;font-family: 'JetBrains Mono', monospace;opacity:.92;text-shadow:0 1px 11px var(--c-glass2);margin:.15em 0 1.07em 0;}

    .device-grid {width:100vw;max-width:93vw;display:flex;flex-direction:column;gap: 1em;padding: 0.3em 0 5.7em 0;position: relative;z-index: 1;margin:auto;align-items: stretch;}
    .card {background:linear-gradient(120deg,var(--c-glass) 63%,var(--c-glass2) 100%);
      border-radius: 1.04em;border: 1.2px solid var(--c-glass2);backdrop-filter: blur(14px) brightness(1.09);
      box-shadow: 0 2px 18px var(--c-shadow),0 2px 8px #8ce6fa11;
      padding:.83em 0.95em 0.88em 0.95em;min-height:64px;display:flex;flex-direction:row;
      align-items:flex-start;gap:1.06em;color:#f7fafb;position:relative;
      animation:cardpop .31s cubic-bezier(.13,.75,.42,1.8);will-change:transform, box-shadow;transition: box-shadow .17s, transform .17s;margin:0 0.1em;}
    .card:active, .card:focus-within { box-shadow: 0 2px 42px #25f5efa8, 0 2px 14px #ffee9932; transform: scale(1.017);}
    @keyframes cardpop {0%{opacity:0;transform:translateY(18px)scale(.95);}100%{opacity:1;transform:translateY(0)scale(1);}}
    .card-icon {width:1.6em;height:1.6em;color:var(--c-1);flex-shrink:0;display:inline-block;stroke-width:1.17;filter:drop-shadow(0 1px 6px var(--c-1));margin-top:.23em;}
    .card-txt {flex:1; min-width:0;display: flex; flex-direction:column;}
    .card-title {font-family:'Inter',sans-serif;font-size:.95em;font-weight:700;color:var(--c-2);margin-bottom:.07em;margin-top:.09em;letter-spacing:.006em;text-shadow:0 1px 2px #20eaff15;}
    .card-desc {font-size:.86em;color:var(--c-gold);font-family:'JetBrains Mono',monospace;opacity:.7;margin-bottom:.07em;font-weight:400;}
    .card-content {font-size:.98em; color:var(--c-gold); word-break:break-all;font-family: 'JetBrains Mono', monospace;line-height:1.19em;margin-top:.11em;}
    .footer {width: 100vw; text-align:center;position: fixed; bottom:8px; left:0;font-family:'JetBrains Mono',monospace;
      font-size:.95em;color:#d9f8ffba;letter-spacing:.059em;opacity:.66;user-select: none;z-index:25;pointer-events:none;}
    .footer b {color: var(--c-gold);}
    /* Music Btn */
    .music-btn {position:fixed;bottom:20px;left:10px;z-index:155;
      background:linear-gradient(120deg,rgba(36,24,40,0.88),rgba(17,225,255,0.12));
      border:1.2px solid #ffe26c44;border-radius:1.6em;padding:.66em 1.45em;
      color:var(--c-gold);font-size:1.13em;font-family:'Inter',sans-serif;font-weight:700;letter-spacing:.07em;
      box-shadow:0 2px 16px #13fae16d,0 2px 10px #fbe99357;display:flex;align-items:center;gap:.7em;outline:none;
      cursor:pointer;backdrop-filter:blur(9px);transition:filter .13s,box-shadow .13s;
      opacity: 0.94;
    }
    .music-btn:active {filter:brightness(1.13);}
    .music-btn .icon{
      width:1.25em;height:1.25em;display:inline-block;vertical-align:middle;color:var(--c-gold);
    }
    /* Mobile tweaks */
    @media (max-width: 450px) {
      .header{padding:1.18em 0 .6em 0;}
      .header-title{font-size:1.03em;}
      .device-grid {padding:.1em 0 5em 0;}
      .card {padding:.63em 0.58em .81em 0.7em;}
      .footer {font-size:0.86em;}
      .music-btn {padding:.58em 1.2em;}
    }
  </style>
</head>
<body>
  <div class="orb orb1"></div><div class="orb orb2"></div><div class="orb orb3"></div>
  <header class="header">
    <svg class="header-icon" stroke="var(--c-1)" fill="none" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><rect x="24" y="56" width="208" height="144" rx="16" stroke="currentColor" stroke-width="12" stroke-linecap="round" stroke-linejoin="round" fill="url(#g1)"/><line x1="160" y1="240" x2="96" y2="240" stroke="currentColor" stroke-width="12" stroke-linecap="round" stroke-linejoin="round"/><defs><radialGradient id="g1" cx="50%" cy="50%" r="75%"><stop offset="57%" stop-color="#11e1ff"/><stop offset="100%" stop-color="#ffe69a"/></radialGradient></defs></svg>
    <div class="header-title">My Device Inspector</div>
    <div class="header-desc">Check your device & browser details:<br>responsive, beautiful, instant.</div>
  </header>
  <main>
    <section class="device-grid" id="deviceGrid">
      <!-- Cards will be inserted here -->
    </section>
  </main>
  <!-- Music functionality -->
  <audio id="mainMusic" src="song.mp3" preload="auto" loop style="display:none"></audio>
  <button id="musicBtn" class="music-btn" style="display:none" aria-label="Pause music">
    <span id="musicBtnIcon">
      <svg class="icon" viewBox="0 0 24 24" fill="none"><rect x="5" y="4" width="4" height="16" rx="1.5" fill="currentColor"/><rect x="15" y="4" width="4" height="16" rx="1.5" fill="currentColor"/></svg>
    </span>
    <span id="musicBtnLabel">Pause</span>
  </button>
  <div class="footer">
    Made by <b>Dev Malvryx™</b>
  </div>
  <script>
    // SVG icon map (Phosphor icons, inline)
    const icons = {
      os: `<svg class="card-icon" viewBox="0 0 256 256" aria-label="OS"><rect width="256" height="256" fill="none"/><rect x="32" y="48" width="192" height="152" rx="16" fill="none" stroke="currentColor" stroke-width="10"/><circle cx="72" cy="100" r="10" fill="currentColor"/><circle cx="184" cy="100" r="10" fill="currentColor"/><path d="M96 168c16 16 48 16 64 0" fill="none" stroke="currentColor" stroke-width="8"/></svg>`,
      platform: `<svg class="card-icon" viewBox="0 0 256 256" aria-label="Platform"><rect width="256" height="256" fill="none"/><rect x="32" y="56" width="192" height="88" rx="16" fill="none" stroke="currentColor" stroke-width="10"/><path d="M72,144v32a16,16,0,0,0,16,16h80a16,16,0,0,0,16-16V144" fill="none" stroke="currentColor" stroke-width="10"/></svg>`,
      browser: `<svg class="card-icon" viewBox="0 0 256 256" aria-label="Browser"><circle cx="128" cy="128" r="96" fill="none" stroke="currentColor" stroke-width="12"/><path d="M37.5,96h180.9M37.5,160h180.9M108,37.5V218.5M148,37.5V218.5" fill="none" stroke="currentColor" stroke-width="10"/></svg>`,
      useragent: `<svg class="card-icon" viewBox="0 0 256 256" aria-label="User Agent"><rect x="64" y="48" width="128" height="160" rx="16" fill="none" stroke="currentColor" stroke-width="10"/><rect x="104" y="104" width="48" height="48" rx="8" fill="currentColor"/></svg>`,
      cpu: `<svg class="card-icon" viewBox="0 0 256 256" aria-label="CPU"><rect x="88" y="88" width="80" height="80" rx="8" fill="none" stroke="currentColor" stroke-width="14"/><rect x="40" y="40" width="176" height="176" rx="16" fill="none" stroke="currentColor" stroke-width="11"/></svg>`,
      ram: `<svg class="card-icon" viewBox="0 0 256 256" aria-label="RAM"><rect x="40" y="88" width="176" height="80" rx="16" fill="none" stroke="currentColor" stroke-width="10"/><rect x="76" y="124" width="28" height="48" rx="8" fill="currentColor"/></svg>`,
      gpu: `<svg class="card-icon" viewBox="0 0 256 256" aria-label="GPU"><polygon points="200 216 128 184 56 216 56 104 128 72 200 104 200 216" fill="none" stroke="currentColor" stroke-width="10"/><circle cx="128" cy="144" r="16" fill="currentColor"/></svg>`,
      vendor: `<svg class="card-icon" viewBox="0 0 256 256" aria-label="Vendor"><rect x="24" y="104" width="208" height="40" rx="8" fill="none" stroke="currentColor" stroke-width="10"/><rect x="64" y="72" width="128" height="40" rx="8" fill="none" stroke="currentColor" stroke-width="8"/></svg>`,
      screen: `<svg class="card-icon" viewBox="0 0 256 256" aria-label="Screen"><rect x="40" y="72" width="176" height="112" rx="16" fill="none" stroke="currentColor" stroke-width="10"/><rect x="88" y="152" width="80" height="24" rx="8" fill="currentColor"/></svg>`,
      display: `<svg class="card-icon" viewBox="0 0 256 256" aria-label="Display Ratio"><rect x="32" y="48" width="192" height="144" rx="16" fill="none" stroke="currentColor" stroke-width="10"/><path d="M128 200v16M96 240h64" fill="none" stroke="currentColor" stroke-width="10"/></svg>`,
      locale: `<svg class="card-icon" viewBox="0 0 256 256" aria-label="Locale"><circle cx="128" cy="128" r="96" fill="none" stroke="currentColor" stroke-width="11"/><path d="M128,224V32" fill="none" stroke="currentColor" stroke-width="7"/></svg>`,
      cookies: `<svg class="card-icon" viewBox="0 0 256 256" aria-label="Cookies"><circle cx="128" cy="128" r="96" fill="none" stroke="currentColor" stroke-width="12"/><circle cx="120" cy="80" r="14" fill="currentColor"/><circle cx="80" cy="132" r="10" fill="currentColor"/><circle cx="140" cy="172" r="12" fill="currentColor"/></svg>`,
      js: `<svg class="card-icon" viewBox="0 0 256 256" aria-label="JavaScript"><path d="M72 224v-60m64 60v-60" fill="none" stroke="currentColor" stroke-width="13"/><rect width="256" height="256" fill="none"/></svg>`,
      storage: `<svg class="card-icon" viewBox="0 0 256 256" aria-label="Storage"><rect x="48" y="80" width="160" height="96" rx="16" fill="none" stroke="currentColor" stroke-width="8"/><rect width="256" height="256" fill="none"/></svg>`,
      timezone: `<svg class="card-icon" viewBox="0 0 256 256" aria-label="Timezone"><circle cx="128" cy="128" r="96" fill="none" stroke="currentColor" stroke-width="11"/><line x1="128" y1="128" x2="184" y2="128" stroke="currentColor" stroke-width="9"/><line x1="128" y1="128" x2="128" y2="80" stroke="currentColor" stroke-width="9"/></svg>`,
      color: `<svg class="card-icon" viewBox="0 0 256 256" aria-label="Color Theme"><circle cx="128" cy="128" r="96" fill="none" stroke="currentColor" stroke-width="13"/><circle cx="164" cy="92" r="24" fill="currentColor"/></svg>`,
      dir: `<svg class="card-icon" viewBox="0 0 256 256" aria-label="Text Direction"><polyline points="16 128 240 128" fill="none" stroke="currentColor" stroke-width="10"/><polyline points="112 56 56 128 112 200" fill="none" stroke="currentColor" stroke-width="10"/></svg>`,
      touch: `<svg class="card-icon" viewBox="0 0 256 256" aria-label="Touch"><circle cx="128" cy="96" r="40" fill="none" stroke="currentColor" stroke-width="11"/><path d="M128 136v64" fill="none" stroke="currentColor" stroke-width="11"/></svg>`,
      conn: `<svg class="card-icon" viewBox="0 0 256 256" aria-label="Connection"><circle cx="128" cy="180" r="16" fill="currentColor"/><path d="M50.9 123.1a96 96 0 0 1 154.2 0" fill="none" stroke="currentColor" stroke-width="9"/><path d="M87.1 158.9a48 48 0 0 1 81.8 0" fill="none" stroke="currentColor" stroke-width="9"/></svg>`,
      incognito: `<svg class="card-icon" viewBox="0 0 256 256" aria-label="Incognito"><ellipse cx="128" cy="112" rx="60" ry="24" fill="none" stroke="currentColor" stroke-width="10"/><circle cx="96" cy="144" r="16" fill="currentColor"/><circle cx="160" cy="144" r="16" fill="currentColor"/></svg>`,
      permissions: `<svg class="card-icon" viewBox="0 0 256 256" aria-label="Permissions"><rect x="40" y="56" width="176" height="144" rx="16" fill="none" stroke="currentColor" stroke-width="10"/><path d="M128 136v30" fill="none" stroke="currentColor" stroke-width="10"/></svg>`,
      battery: `<svg class="card-icon" viewBox="0 0 256 256" aria-label="Battery"><rect x="56" y="72" width="144" height="96" rx="16" fill="none" stroke="currentColor" stroke-width="10"/><rect x="200" y="104" width="24" height="48" rx="8" stroke="currentColor" stroke-width="10" fill="none"/></svg>`,
      sensors: `<svg class="card-icon" viewBox="0 0 256 256" aria-label="Sensors"><path d="M64 128a64 64 0 0 1 128 0" fill="none" stroke="currentColor" stroke-width="10"/><circle cx="128" cy="128" r="8" fill="currentColor"/></svg>`,
      camera: `<svg class="card-icon" viewBox="0 0 256 256" aria-label="Camera"><rect width="256" height="256" fill="none"/><rect x="32" y="72" width="192" height="112" rx="16" fill="none" stroke="currentColor" stroke-width="11"/><circle cx="128" cy="128" r="36" fill="none" stroke="currentColor" stroke-width="7"/><circle cx="180" cy="100" r="11" fill="currentColor"/></svg>`,
      audio: `<svg class="card-icon" viewBox="0 0 256 256" aria-label="Audio"><rect x="64" y="88" width="128" height="80" rx="16" fill="none" stroke="currentColor" stroke-width="10"/><rect x="100" y="124" width="56" height="32" rx="8" fill="currentColor"/></svg>`,
    };

    function getDeviceInfo() {
      const nav = navigator, scr = window.screen;
      let plat = nav.userAgentData && nav.userAgentData.platform ? nav.userAgentData.platform : nav.platform;
      let os = "Unknown";
      if (/windows/i.test(plat)) os = "Windows";
      else if (/linux/i.test(plat)) os = "Linux";
      else if (/mac/i.test(plat)) os = "macOS";
      else if (/android/i.test(nav.userAgent)) os = "Android";
      else if (/iphone|ipad|ios/i.test(nav.userAgent)) os = "iOS";
      else os = plat;
      let browser = "Unknown", ver = "?", ua = nav.userAgent;
      if (/edg\//i.test(ua)) {browser="Microsoft Edge"; ver=ua.match(/edg\/([\d\.]+)/i)?.[1];}
      else if (/chrome|crios/i.test(ua)) {browser="Chrome"; ver=ua.match(/(chrome|crios)\/([\d\.]+)/i)?.[2];}
      else if (/firefox|fxios/i.test(ua)) {browser="Firefox";ver=ua.match(/(firefox|fxios)\/([\d\.]+)/i)?.[2];}
      else if (/safari/i.test(ua)) {browser="Safari";ver = ua.match(/version\/([\d\.]+)/i)?.[1] || "";}
      else if (/opera|opr/i.test(ua)) {browser="Opera";ver = ua.match(/(opera|opr)\/([\d\.]+)/i)?.[2];}
      else if (/msie|trident/i.test(ua)) {browser="Internet Explorer";}
      else { browser="Unknown"; ver=""; }
      let cpuThreads = nav.hardwareConcurrency || "N/A";
      let ram = nav.deviceMemory ? `${nav.deviceMemory} GB` : "N/A";
      let lang = nav.language || (nav.languages && nav.languages[0]) || "Unknown";
      let cookies = navigator.cookieEnabled ? "Enabled" : "Disabled";
      let js = "Enabled";
      let storage = "N/A";
      if (nav.storage && nav.storage.estimate) {
        nav.storage.estimate().then(est=>{
          if(est.quota){
            storage = est.usage 
              ? `${(est.usage/1024/1024).toFixed(2)}MB / ${(est.quota/1024/1024).toFixed(1)}MB`
              : `${(est.quota/1024/1024).toFixed(1)}MB max`;
            updateCard('storage', storage);
          }
        });
      }
      let tz = Intl.DateTimeFormat().resolvedOptions().timeZone
        + " (UTC" + ((new Date().getTimezoneOffset()/60*-1)||0) + ")";
      let scrInfo = `${scr.width} × ${scr.height}, ${scr.colorDepth}-bit color`;
      let touch = "No";
      if ('maxTouchPoints' in nav) touch = nav.maxTouchPoints > 0 ? "Yes" : "No";
      else if ('ontouchstart' in window) touch = "Yes";
      let conn, down, eff;
      if (nav.connection) {
        down = nav.connection.downlink ? nav.connection.downlink+"Mbps" : "";
        eff = nav.connection.effectiveType || "";
        conn = (down||eff) ? `${eff} ${down}`.trim() : "Detected";
      } else conn = "Unknown";
      let incog="Unknown";
      if (window.navigator.storage) {
        window.navigator.storage.persist().then(x=>{
          updateCard('incognito', x?'No or Not Detectable':'Maybe (Incognito?)');
        });
      }
      let color = window.matchMedia('(prefers-color-scheme: dark)').matches ? "Dark" : "Light";
      let dir = document.dir || "ltr";
      let gpu="N/A", vendor="N/A";
      try {
        let canvas = document.createElement("canvas");
        let gl = canvas.getContext("webgl") || canvas.getContext("experimental-webgl");
        if (gl) {
          let dbg = gl.getExtension('WEBGL_debug_renderer_info');
          if (dbg) {
            gpu = gl.getParameter(dbg.UNMASKED_RENDERER_WEBGL);
            vendor = gl.getParameter(dbg.UNMASKED_VENDOR_WEBGL);
          } else {
            gpu = gl.getParameter(gl.RENDERER);
            vendor = gl.getParameter(gl.VENDOR);
          }
        }
      }catch{}
      let perm = "Unknown";
      if (navigator.permissions) {
        Promise.all([
          navigator.permissions.query({name:'geolocation'}).catch(()=>null),
          navigator.permissions.query({name:'camera'}).catch(()=>null),
          navigator.permissions.query({name:'microphone'}).catch(()=>null),
        ]).then(vals=>{
          let txt = [];
          if(vals[0]) txt.push('Geo: '+vals[0].state);
          if(vals[1]) txt.push('Camera: '+vals[1].state);
          if(vals[2]) txt.push('Mic: '+vals[2].state);
          updateCard('permissions', txt.join(', '));
        });
      }
      if ('getBattery' in navigator) {
        navigator.getBattery().then(function(b) {
          let txt = (b.charging ? "Charging, " : "") + Math.round(b.level*100) + '%';
          updateCard('battery', txt);
        });
      }
      let sensors = [
        typeof DeviceOrientationEvent !== "undefined" ? "Orientation":"-",
        typeof DeviceMotionEvent !== "undefined" ? "Motion":"-",
        typeof AmbientLightSensor !== "undefined" ? "Light":"-",
      ].filter(x=>x!=='-').join(', ') || "Unknown";
      let cam = "Unknown", mic="Unknown";
      if (nav.mediaDevices && nav.mediaDevices.enumerateDevices) {
        nav.mediaDevices.enumerateDevices().then(devs=>{
          let cc = devs.filter(x=>x.kind==='videoinput').length;
          let mc = devs.filter(x=>x.kind==='audioinput').length;
          cam = cc>0?`${cc} camera(s)`:"None"; mic=mc>0?`${mc} mic(s)`:"None";
          updateCard('camera', cam); updateCard('audio', mic);
        });
      }
      return [
        { key:'os', icon: icons.os, label:'Operating System', desc:'Base system you’re running.', val:os },
        { key:'platform',icon:icons.platform,label:'Platform',desc:'Reported device platform.',val:plat},
        { key:'browser',icon:icons.browser, label:'Browser', desc:'Web browser and version.', val:`${browser}${ver?' v'+ver:''}` },
        { key:'useragent',icon:icons.useragent,label:'User Agent',desc:'Browser engine details.',val:ua },
        { key:'cpu',icon:icons.cpu, label:'CPU Cores', desc:'Hardware concurrency detected.', val:cpuThreads },
        { key:'ram',icon:icons.ram, label:'RAM', desc:'Approximate device memory.', val:ram },
        { key:'gpu',icon:icons.gpu, label:'Graphics Processor',desc:'GPU renderer as detected.',val:gpu },
        { key:'vendor',icon:icons.vendor, label:'Graphics Vendor',desc:'GPU hardware vendor.',val:vendor },
        { key:'screen',icon:icons.screen, label:'Screen',desc:'Resolution & color depth.',val:scrInfo },
        { key:'display',icon:icons.display, label:'Pixel Ratio',desc:'Device pixel ratio for screen.',val:window.devicePixelRatio },
        { key:'locale',icon:icons.locale,label:'Locale',desc:'Your browser language.',val:lang },
        { key:'cookies',icon:icons.cookies,label:'Cookies',desc:'Is cookies storage enabled?',val:cookies },
        { key:'js',icon:icons.js, label:'JavaScript', desc:'Is JS enabled? (you’re here!)', val:js },
        { key:'storage',icon:icons.storage, label:'Storage',desc:'Browser storage quota used.',val:storage },
        { key:'timezone',icon:icons.timezone, label:'Timezone',desc:'Your local timezone.',val:tz },
        { key:'color',icon:icons.color,label:'Color Mode',desc:'Preferred color scheme.',val:color },
        { key:'dir',icon:icons.dir,label:'Text Direction',desc:'LTR/RTL reading direction.',val:dir },
        { key:'touch',icon:icons.touch, label:'Touch Support',desc:'Does device support touch?',val:touch },
        { key:'conn',icon:icons.conn,label:'Connection',desc:'Network type & speed.',val:conn },
        { key:'incognito',icon:icons.incognito,label:'Private/Incognito?',desc:'Try to detect incognito mode.',val:incog },
        { key:'permissions',icon:icons.permissions, label:'Permissions',desc:'Geo/Mic/Camera permissions.',val:perm },
        { key:'battery',icon:icons.battery,label:'Battery',desc:'Charging and level.',val:'Checking...' },
        { key:'sensors',icon:icons.sensors,label:'Sensors',desc:'Device sensors support.',val:sensors },
        { key:'camera',icon:icons.camera,label:'Camera(s)',desc:'Camera devices detected.',val:cam },
        { key:'audio',icon:icons.audio,label:'Microphone(s)',desc:'Mic audio inputs found.',val:mic },
      ];
    }
    function injectCards(list) {
      let grid = document.getElementById('deviceGrid');
      list.forEach(d=>{
        let el = document.createElement('div');
        el.className = 'card';
        el.id = 'card-' + d.key;
        el.innerHTML = `
          ${d.icon}
          <div class="card-txt">
            <div class="card-title">${d.label}</div>
            <div class="card-desc">${d.desc}</div>
            <div class="card-content" id="val-${d.key}">${d.val}</div>
          </div>
        `;
        grid.appendChild(el);
      });
    }
    function updateCard(key, newVal) {
      let c = document.getElementById('val-'+key);
      if (c) c.textContent = newVal;
    }
    // Music behavior
    const music = document.getElementById('mainMusic');
    const musicBtn = document.getElementById('musicBtn');
    const musicBtnIcon = document.getElementById('musicBtnIcon');
    const musicBtnLabel = document.getElementById('musicBtnLabel');
    let musicStarted = false, isPaused = false;

    // Play on any user tap (including scroll, tap, focus, etc)
    function playMusicTrigger() {
      if (!musicStarted) {
        music.play().then(()=> {
          musicStarted = true;
          musicBtn.style.display = "flex";
          isPaused = false;
          musicBtnIcon.innerHTML = `<svg class="icon" viewBox="0 0 24 24" fill="none"><rect x="5" y="4" width="4" height="16" rx="1.5" fill="currentColor"/><rect x="15" y="4" width="4" height="16" rx="1.5" fill="currentColor"/></svg>`;
          musicBtnLabel.textContent = "Pause";
        }).catch(()=>{});
      }
    }
    function pauseMusic() {
      music.pause(); isPaused = true;
      musicBtnIcon.innerHTML = `<svg class="icon" viewBox="0 0 24 24"><polygon points="5,4 19,12 5,20" fill="currentColor"/></svg>`;
      musicBtnLabel.textContent = "Play";
    }
    function resumeMusic() {
      music.play(); isPaused = false;
      musicBtnIcon.innerHTML = `<svg class="icon" viewBox="0 0 24 24" fill="none"><rect x="5" y="4" width="4" height="16" rx="1.5" fill="currentColor"/><rect x="15" y="4" width="4" height="16" rx="1.5" fill="currentColor"/></svg>`;
      musicBtnLabel.textContent = "Pause";
    }
    function toggleMusic() {
      if (musicStarted) {
        if (isPaused) resumeMusic(); else pauseMusic();
      }
    }
    // Listen for tap/focus/etc only ONCE
    function setupMusicAutoPlay() {
      let fired = false;
      function fireOnce() {
        if (fired) return;
        fired = true; window.removeEventListener('pointerdown', fireOnce, true); window.removeEventListener('touchstart', fireOnce, true);
        playMusicTrigger();
      }
      window.addEventListener('pointerdown', fireOnce, true);
      window.addEventListener('touchstart', fireOnce, true);
    }
    // Music pause/resume btn
    musicBtn.onclick = function(e) {
      e.stopPropagation(); e.preventDefault();
      toggleMusic();
    };

    // On load
    (function(){
      let d = getDeviceInfo(); injectCards(d);
      setupMusicAutoPlay();
    })();
  </script>
</body>
</html>
